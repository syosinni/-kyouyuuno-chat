<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æˆ¦é—˜ç³»æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ </title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f4f4f4; }
    h2 { margin-top: 30px; }
    .unit, .log { margin-bottom: 10px; }
    select, input, button { margin: 5px; padding: 5px; }
    #battle-log { white-space: pre-wrap; background: #fff; border: 1px solid #ccc; padding: 10px; height: 150px; overflow-y: scroll; }
  </style>
</head>
<body>
  <h1>æˆ¦é—˜ç³»æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ </h1>

  <h2>ğŸ’° è³‡é‡‘ã‚·ã‚¹ãƒ†ãƒ </h2>
  <div>
    <p>ç¾åœ¨è³‡é‡‘: <span id="funds">10000</span></p>
    <select id="unit-select">
      <option value="infantry">æ­©å…µ (30)</option>
      <option value="tank">æˆ¦è»Š (300)</option>
      <option value="destroyer">é§†é€è‰¦ (2500)</option>
      <option value="carrier">ç©ºæ¯ (12000)</option>
    </select>
    <button onclick="purchaseUnit()">è³¼å…¥</button>
    <p>ä¿æœ‰ãƒ¦ãƒ‹ãƒƒãƒˆ: <span id="owned-units"></span></p>
  </div>

  <h2>âš”ï¸ æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ </h2>
  <div>
    <select id="attacker">
      <option value="infantry">æ­©å…µ</option>
      <option value="tank">æˆ¦è»Š</option>
      <option value="destroyer">é§†é€è‰¦</option>
      <option value="carrier">ç©ºæ¯</option>
    </select>
    vs
    <select id="defender">
      <option value="infantry">æ­©å…µ</option>
      <option value="tank">æˆ¦è»Š</option>
      <option value="destroyer">é§†é€è‰¦</option>
      <option value="carrier">ç©ºæ¯</option>
    </select>
    <button onclick="battle()">æˆ¦é—˜é–‹å§‹</button>
    <div id="battle-log"></div>
  </div>

  <h2>ğŸŒŠ åˆ¶æµ·æ¨©ãƒ»åˆ¶ç©ºæ¨©ã‚·ã‚¹ãƒ†ãƒ </h2>
  <div>
    <p>åˆ¶æµ·å€¤: <span id="sea-power">0</span> / æ•µ: <span id="enemy-sea">0</span></p>
    <p>åˆ¶ç©ºå€¤: <span id="air-power">0</span> / æ•µ: <span id="enemy-air">0</span></p>
    <button onclick="calculatePower()">åˆ¶åœ§çŠ¶æ³æ›´æ–°</button>
    <p id="control-result"></p>
  </div>

  <script>
    let funds = 10000;
    let units = { infantry: 0, tank: 0, destroyer: 0, carrier: 0 };
    const unitCost = { infantry: 30, tank: 300, destroyer: 2500, carrier: 12000 };
    const unitStats = {
      infantry: { attack: 30, defense: 30, sea: 0, air: 0 },
      tank: { attack: 70, defense: 60, sea: 0, air: 0 },
      destroyer: { attack: 55, defense: 50, sea: 10, air: 0 },
      carrier: { attack: 90, defense: 70, sea: 20, air: 25 },
    };

    function purchaseUnit() {
      const type = document.getElementById("unit-select").value;
      if (funds >= unitCost[type]) {
        funds -= unitCost[type];
        units[type]++;
        document.getElementById("funds").textContent = funds;
        updateOwnedUnits();
      } else {
        alert("è³‡é‡‘ãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
      }
    }

    function updateOwnedUnits() {
      let text = Object.keys(units).map(u => `${u}: ${units[u]}`).join(", ");
      document.getElementById("owned-units").textContent = text;
    }

    function battle() {
      const atk = document.getElementById("attacker").value;
      const def = document.getElementById("defender").value;
      const aStat = unitStats[atk];
      const dStat = unitStats[def];
      const damage = Math.max(1, aStat.attack - dStat.defense + Math.floor(Math.random() * 10));
      const log = document.getElementById("battle-log");
      log.textContent += `\n${atk}ãŒ${def}ã«${damage}ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸï¼`;
    }

    function calculatePower() {
      const seaPower = units.destroyer * 10 + units.carrier * 20;
      const airPower = units.carrier * 25;
      document.getElementById("sea-power").textContent = seaPower;
      document.getElementById("air-power").textContent = airPower;
      const enemySea = 30;
      const enemyAir = 20;
      document.getElementById("enemy-sea").textContent = enemySea;
      document.getElementById("enemy-air").textContent = enemyAir;

      let controlText = "";
      controlText += seaPower > enemySea ? "åˆ¶æµ·æ¨©ç¢ºä¿ï¼\n" : "åˆ¶æµ·æ¨©å–ªå¤±ä¸­...\n";
      controlText += airPower > enemyAir ? "åˆ¶ç©ºæ¨©ç¢ºä¿ï¼" : "åˆ¶ç©ºæ¨©å–ªå¤±ä¸­...";
      document.getElementById("control-result").textContent = controlText;
    }
  </script>
</body>
</html>
