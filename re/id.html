<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SVGバケツ塗りつぶし</title>
<style>
  body { display: flex; justify-content: center; margin-top: 20px; }
  svg { width: 80vw; height: auto; border: 1px solid #000; cursor: pointer; }
</style>
</head>
<body>

<!-- SVGを直接埋め込む -->
<object id="worldMap" type="image/svg+xml" data="https://kyouyuuno-to.f5.si/img/0001.svg"></object>

<script>
const fillColor = '#ff0000'; // 塗りたい色

function setupBucket(obj) {
    const svgDoc = obj.contentDocument; // object内のSVGドキュメント取得
    if(!svgDoc) return;

    // 全パスにクリックイベント
    const paths = svgDoc.querySelectorAll('path');
    paths.forEach(path => {
        path.addEventListener('click', e => {
            const currentFill = path.getAttribute('fill');
            const stroke = path.getAttribute('stroke');

            // バケツ的条件: 塗られていない白かつ境界線が#cecece or #000000
            if(currentFill === '#ffffff' && (stroke === '#cecece' || stroke === '#000000')) {
                path.setAttribute('fill', fillColor);
            }
        });
    });
}

// SVGがロードされたらセットアップ
document.getElementById('worldMap').addEventListener('load', function() {
    setupBucket(this);
});
</script>

</body>
</html>
